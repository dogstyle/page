(function(){var e=function(){function f(){if(l())return;for(var e in o)o[e](r,n,c)}function l(){var e=0;for(var t in s)if(!s[t])e++;return e}var t=function(){},n=t.prototype={},r=new t,i=150,s=n.waitList={},o=[],u=n.done=function(e){o.push(e)},a=0;var c=n.log=function(e){if(typeof console==="object"){console.log(e)}};n.add=function(e,t){n.spawn(e,t)};var h=function(e,t){if(typeof e!=="string")return;var n=e.replace(/\./g,"_").replace(/\//g,"_"),r=document.getElementById(n),i=t?String(a++):String(Math.random()*1e3).replace(/\./,"");if(r){r.parentElement.removeChild(r)}var s=document.createElement("script");s.setAttribute("type","text/javascript");s.setAttribute("src",e+"?"+i);s.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(s)};n.loadScript=function(e,t){var n=v(arguments),t=n.Boo?n.Boo[0]:false;if(n.Str.length){for(var r in n.Str){h(n.Str[r],t)}}if(n.Arr){for(var i in n.Arr[0]){h(n.Arr[0][i],t)}}};n.AddExternalLib=n.addExternalLib=function(e,t,i){var s=p("Lib."+t);if(s){typeof i==="function"&&i(s);return}n.loadScript(e);var o=setInterval(function(){var e=p(t,window);if(e){clearInterval(o);if(!r.Lib)r.Lib={};r.add("Lib."+t,e);typeof i==="function"&&i(e)}},100)};n.wait=function(){var e=v(arguments);if(e.Str&&e.Obj)return n.batchWait.apply(this,arguments);else return d.apply(this,arguments)};n.waitWindow=function(){var t=v(arguments),n=function(){};if(t.Fun)n=t.Fun[0];if(t.Boo)add=t.Boo[0];if(t.Str)path=t.Str[0];if(t.Obj)obj=t.Obj[0];else obj=window;var r=function(){if(!path){return"undefined"+String(Math.random()).replace(".","")}var e=path.split(".");if(!e.length){return r}else{return e.reverse()[0]}}();d(path,obj,function(t){e.spawn("Lib."+r,t)})};n.batchWaitWindow=function(){function s(){t-=1;if(!t)callback(e.Lib)}var t=1,r=[],i=window;callback=function(){};var o=v(arguments);if(o.Fun)callback=o.Fun[0];if(o.Boo)add=o.Boo[0];else add=true;if(o.Obj)i=o.Obj[0];if(o.Arr){for(var u in o.Arr)r=r.concat(o.Arr[u])}if(o.Str)r=r.concat(o.Str);t=r.length;for(var a in r){n.waitWindow(r[a],add,i,s)}};n.extend=function(t){typeof t==="function"&&t(r,n,c)};n.add$=function(t,r){var i=arguments,s={};e.waitExists("jQuery",window,function(){$(document).ready(function(){s=n.add.apply(this,i)})});return r};var p=n.exists=function(e,t,n){if(typeof e==="undefined"||typeof e==="object")return;var i=e.split("."),s=0,o=t||r;if(i.length<1)return n;while(s<i.length){o=o[i[s]];if(o===undefined||o===null)return n;s++}if(typeof o!=="undefined")return o;else return n};n.spawn=function(e,t,n){if(typeof e==="undefined"||typeof e==="object")return;var i=e.split("."),s=0,o=n||r;if(i.length<1)return;while(s<i.length){if(s===i.length-1){o[i[s]]=t;return t}else{if(o[i[s]]===undefined){o=o[i[s]]={}}else{o=o[i[s]]}}s++}};var d=n.waitExists=function(e,t,r){var s=n.exists(e,t);if(s){typeof r==="function"&&r(s);return s}var o=setInterval(function(){var i=n.exists(e,t);if(i){typeof r==="function"&&r(i);clearInterval(o)}},i)};n.batchWaitRef=function(e,t,n){var i=0,t=t||{};for(var s=0;s<e.length;s++){(function(e,r){d(r[e],function(s){i+=1;var o=r[e].split(".").reverse()[0];t[o]=s;if(i>=r.length){typeof n==="function"&&n(t)}})})(s,e)}return r};n.batchWait=function(e,t,r,i,s){var o=[],u={},a=v(arguments);if(a.Fun)s=a.Fun[0];if(a.Str)o=a.Str;if(a.Obj)u=a.Obj[0];if(a.Arr)o.concat(a.Str);n.batchWaitRef(o,u,s)};n.stash=function(e){if(e)window[e]=r;if(!n.pointers)n.pointers={};else{for(var t in n.pointers)delete window[t]}n.pointers[e]=true;delete window.PAGE;return r};var v=n.mapArguments=function(e){function n(e,n){if(!t[e])t[e]=[];t[e].push(n)}var t={};for(var r=0;r<e.length;r++){var i=typeof e[r];if(i==="undefined"){n("Und",e[r]);continue}if(i==="function"){n("Fun",e[r]);continue}if(i==="string"){n("Str",e[r]);continue}if(i==="boolean"){n("Boo",e[r]);continue}if(i==="number"){n("Num",e[r]);continue}if(i==="object"){if(e[r]===null){n("Nul",e[r]);continue}if(e[r].constructor===Array){n("Arr",e[r]);continue}if(e[r]instanceof Error){n("Error",e[r]);continue}if(typeof jQuery!=="undefined"){if(e[r]instanceof jQuery){n("jQuery",e[r]);continue}}n("Obj",e[r])}}return t};return r}();window.PAGE=e})()
