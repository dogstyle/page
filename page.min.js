(function(){var e=function(){function a(){if(f())return;for(var e in o)o[e](r,n,l)}function f(){var e=0;for(var t in s)if(!s[t])e++;return e}var t=function(){},n=t.prototype={},r=new t,i=150,s=n.waitList={},o=[],u=n.done=function(e){o.push(e)};var l=n.log=function(e){if(typeof console==="object"){console.log(e)}};n.add=function(e,t){if(typeof e==="undefined")return;var n=e.split(".");if(n.length<2)return;var i=n[0],s=n[1];if(!r[i])r[i]={};return r[i][s]=t};n.waitProto=function(e,t){var o=100,u=0,f;s[e]=false;if(n[e]){s[e]=true;return t(n[e])}if(r[e]){s[e]=true;return t(r[e])}f=setInterval(function(){if(u>o){console.error("could not find prototype "+e);clearInterval(f);return}if(n[e]){if(typeof t==="function"){t(n[e])}s[e]=true;clearInterval(f);a()}u++},i)};n.waitLoad=function(e,t,n,o){var u=100,f=0,l;o=o||{};s[e+"."+t]=false;if(r[e]&&r[e][t]){s[e+"."+t]=true;return n(r[e][t])}l=setInterval(function(){if(f>u){debugger;console.error("could not find "+e+":"+t);clearInterval(l);return}if(f>u||r[e]&&r[e][t]){if(typeof n==="function"){o[t]=r[e][t];n(r[e][t])}s[e+"."+t]=true;clearInterval(l);a()}f++},i)};n.loadScript=function(e){var t=e.replace(/\./g,"_"),n=document.getElementById(t);if(n){n.parentElement.removeChild(n)}var r=document.createElement("script");r.setAttribute("type","text/javascript");r.setAttribute("src",e+"?"+String(Math.random()).replace(/\./,""));r.setAttribute("id",t);document.getElementsByTagName("head")[0].appendChild(r)};n.AddExternalLib=function(e,t,i){if(n.exists("Lib."+t)){typeof i==="function"&&i(window[t]);return}n.loadScript(e);var s=setInterval(function(){var e=window[t];if(e){clearInterval(s);if(!r.Lib)r.Lib={};r.add("Lib."+t,e);typeof i==="function"&&i(e)}},100)};var c=function(e,t,r){r=r||{};if(typeof e==="undefined")return;var i=e.split(".");if(i.length<1)return;if(i.length<2)return n.waitProto(i[0],t);return n.waitLoad(i[0],i[1],t,r)};n.wait=function(e,t,r,i,s){var o=h(arguments);if(o.Str&&o.Str.length>1)return n.batchWait.apply(this,arguments);else return c.apply(this,arguments)};n.waitWindow=function(e,t,i,s){var o=h(arguments);if(o.Fun)s=o.Fun[0];if(o.Boo)t=o.Boo[0];if(o.Str)e=o.Str[0];if(o.Obj)i=o.Obj[0];else i=window;var u=function(){if(!e){return"undefined"+String(Math.random()).replace(".","")}var t=e.split(".");if(!t.length){return u}else{return t.reverse()[0]}}();var a=n.exists(e,i);if(a){s(a);if(t){if(!r.Lib)r.Lib={};r.add("Lib."+u,a)}return a}var f=setInterval(function(){a=n.exists(e,i);if(a){clearInterval(f);if(t){if(!r.Lib)r.Lib={};r.add("Lib."+u,a)}s(a)}},100)};n.batchWaitWindow=function(t,t,r,t,i,s){function f(){o-=1;if(!o)s(e.Lib)}var o=1,u=[],a=window;s=function(){};var l=h(arguments);if(l.Fun)s=l.Fun[0];if(l.Boo)i=l.Boo[0];else i=true;if(l.Obj)a=l.Obj[0];if(l.Arr){for(var c in l.Arr)u=u.concat(l.Arr[c])}if(l.Str)u=u.concat(l.Str);o=u.length;for(var p in u){n.waitWindow(u[p],i,a,f)}};n.extend=function(t){typeof t==="function"&&t(r,n,l)};n.add$=function(){var e=arguments,t={};try{$(document).ready(function(){t=n.add.apply(r,e)})}catch(i){throw i}return t};n.exists=function(e,t){if(typeof e==="undefined"||typeof e==="object")return;var n=e.split("."),i=0,s=t||r;if(n.length<1)return;while(i<n.length){s=s[n[i]];if(s===undefined)return s;i++}return s};n.batchWaitRef=function(e,t,n){var i=0,t=t||{};for(var s=0;s<e.length;s++){(function(e,r){c(r[e],function(s){i+=1;var o=r[e].split(".").reverse()[0];t[o]=s;if(i>=r.length){typeof n==="function"&&n(t)}})})(s,e)}return r};n.batchWait=function(e,t,r,i,s){var o=[],u={},a=h(arguments);if(a.Fun)s=a.Fun[0];if(a.Str)o=a.Str;if(a.Obj)u=a.Obj[0];if(a.Arr)o.concat(a.Str);n.batchWaitRef(o,u,s)};n.stash=function(e){if(e)window[e]=r;if(!n.pointers)n.pointers={};else{for(var t in n.pointers)delete window[t]}n.pointers[e]=true;delete window.PAGE;return r};n.Helpers={mapArguments:function(e){return{}}};var h=n.Helpers.mapArguments=function(e){function n(e,n){if(!t[e])t[e]=[];t[e].push(n)}var t={};for(var r=0;r<e.length;r++){var i=typeof e[r];if(i==="undefined"){n("Und",e[r]);continue}if(i==="function"){n("Fun",e[r]);continue}if(i==="string"){n("Str",e[r]);continue}if(i==="boolean"){n("Boo",e[r]);continue}if(i==="number"){n("Num",e[r]);continue}if(i==="object"){if(e[r]===null){n("Nul",e[r]);continue}if(e[r].constructor===Array){n("Arr",e[r]);continue}if(e[r]instanceof Error){n("Error",e[r]);continue}n("Obj",e[r])}}return t};return r}();window.PAGE=e})()
