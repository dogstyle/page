(function(){var e=function(){function f(){if(l())return;for(var e in o)o[e](r,n,c)}function l(){var e=0;for(var t in s)if(!s[t])e++;return e}function m(e,t,n){if(!n[e])n[e]=[];n[e].push(t)}var t=function(){},n=t.prototype={},r=new t,i=150,s=n.waitList={},o=[],u=n.done=function(e){o.push(e)},a=0;var c=n.log=function(e){if(typeof console==="object"){console.log(e)}};if(typeof jQuery!=="undefined"){n.jQuery=jQuery}n.add=function(e,t){n.spawn(e,t)};var h=n.loadScript=function(){var e=g(arguments),t=e.Boo?e.Boo[0]:false;if(!e.Str)return;if(e.Str.length>1){for(var n in e.Str)h(e.Str[n],t);return}var i=e.Str[0];var s=i.replace(/\./g,"_").replace(/\//g,"_").replace(":",""),o=document.getElementById(s),u=t?String(a++):String(Math.random()*1e3).replace(/\./,"");if(o){o.parentElement.removeChild(o)}var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src",i.replace(/^~/,"")+"?"+u);f.setAttribute("id",s);document.getElementsByTagName("head")[0].appendChild(f);return r};n.AddExternalLib=n.addExternalLib=function(e,t,i){var s=p(t,window);if(s){typeof i==="function"&&i(s);return r}n.loadScript(e,false);d(t,window,function(e){r.add("Lib."+t,e);typeof i==="function"&&i(e)});return r};n.wait=function(){var e=g(arguments);if(e.Str&&e.Obj&&!e.Arr)return n.batchWait.apply(this,arguments);else return d.apply(this,arguments)};n.waitWindow=function(){var t=g(arguments),n=t.Fun?t.Fun[0]||function(){}:function(){},r=t.Boo?t.Boo[0]||false:false,i=t.Str?t.Str[0]:undefined,s=t.Obj?t.Obj[0]:window;var o=function(){if(!i){return"undefined"+String(Math.random()).replace(".","")}var e=i.split(".");if(!e.length){return o}else{return e.reverse()[0]}}();d(i,s,function(t){if(r)e.spawn("Lib."+o,t);n(t)})};n.batchWaitWindow=function(){function s(){t-=1;if(!t)callback(e.Lib)}var t=1,r=[],i=window;callback=function(){};var o=g(arguments);if(o.Fun)callback=o.Fun[0];if(o.Boo)add=o.Boo[0];else add=true;if(o.Obj)i=o.Obj[0];if(o.Arr){for(var u in o.Arr)r=r.concat(o.Arr[u])}if(o.Str)r=r.concat(o.Str);t=r.length;for(var a in r){n.waitWindow(r[a],add,i,s)}};n.extend=function(t){typeof t==="function"&&t(r,n,c)};n.add$=function(t,r){var i=arguments,s={};e.waitExists("jQuery",window,function(){$(document).ready(function(){s=n.add.apply(this,i)})});return r};var p=n.exists=function(e,t,n){if(typeof e==="undefined"||typeof e==="object")return;var i=e.split("."),s=0,o=t||r;if(i.length<1)return n;while(s<i.length){o=o[i[s]];if(o===undefined||o===null)return n;s++}if(typeof o!=="undefined")return o;else return n};n.spawn=function(e,t,n){if(typeof e==="undefined"||typeof e==="object")return;var i=e.split("."),s=0,o=n||r;if(i.length<1)return;while(s<i.length){if(s===i.length-1){o[i[s]]=t;return t}else{if(o[i[s]]===undefined){o=o[i[s]]={}}else{o=o[i[s]]}}s++}};n.remove=function(e,t,n){if(typeof e==="undefined"||typeof e==="object")return;var i=e.split("."),s=0,o=t||r;if(i.length<1)return;while(s<i.length){if(s===i.length-1){var u=o[i[s]];if(n){o[i[s]]=n}else{delete o[i[s]]}return u}else{if(o[i[s]]===undefined){o=o[i[s]]={}}else{o=o[i[s]]}}s++}};n.SwapLib=function(e){function i(){for(var i in e){t.store[i]=n.remove(i,r,e[i])}}var t={restore:undefined,store:{}};t.restore=function(){for(var e in t.store){n.spawn(e,t.store[e]);delete t.store[e]}};i();return t};var d=n.waitExists=function(e,t,r){var o,u=100,a=0,l;if(typeof t==="function"){r=t;t=undefined}o=n.exists(e,t);s[e]=false;if(o){typeof r==="function"&&r(o);s[e]=true;f();return o}l=setInterval(function(){a++;if(a>u){console.error("could not find "+e);clearInterval(l);return}var i=n.exists(e,t);if(i){typeof r==="function"&&r(i);s[e]=true;clearInterval(l);f()}},i)};n.batchWaitRef=function(e,t,n){var i=0,t=t||{};for(var s=0;s<e.length;s++){(function(e,r){d(r[e],function(s){i+=1;var o=r[e].split(".").reverse()[0];t[o]=s;if(i>=r.length){typeof n==="function"&&n(t)}})})(s,e)}return r};n.batchWait=function(){var e=[],t={},r=g(arguments);if(r.Fun)callback=r.Fun[0];if(r.Str)e=r.Str;if(r.Obj)t=r.Obj[0];if(r.Arr)e.concat(r.Str);n.batchWaitRef(e,t,callback)};n.stash=function(e){if(e)window[e]=r;if(!n.pointers)n.pointers={};else{for(var t in n.pointers)delete window[t]}n.pointers[e]=true;delete window.PAGE;return r};var v=n.getType=function(e){var t="StringBooleanArrayObjectNumberFunction",r;if(e===null)return"Null";if(typeof e==="object"&&e instanceof n.jQuery)return"jQuery";r=Object.prototype.toString.call(e).slice(8,-1);if(t.indexOf(r)>-1)return r.substr(0,3);else return r};var g=n.mapArguments=function(e){var t={};for(var n=0;n<e.length;n++)m(v(e[n]),e[n],t);return t};n.version="2.0.2";return r}();window.PAGE=e})()
